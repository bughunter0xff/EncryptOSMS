<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureCrypt | AES-256 Encryption Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        }
        .text-gradient {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .card-glass {
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.75);
            border-radius: 12px;
            border: 1px solid rgba(209, 213, 219, 0.3);
        }
        .textarea-animate:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
        }
        .copy-btn {
            transition: all 0.2s ease;
        }
        .copy-btn:hover {
            transform: translateY(-2px);
        }
        .copy-btn:active {
            transform: translateY(0);
        }
    </style>
</head>
<body class="min-h-screen gradient-bg flex flex-col">
    <header class="py-6 px-4 text-center">
        <h1 class="text-4xl font-bold text-white mb-2">SecureCrypt</h1>
        <p class="text-white/80 text-lg">AES-256 CBC Encryption Tool</p>
    </header>

    <main class="flex-grow flex items-center justify-center px-4 py-8">
        <div class="w-full max-w-2xl mx-auto">
            <div class="card-glass p-6 md:p-8 shadow-xl">
                <div class="mb-6">
                    <label for="inputText" class="block text-gray-700 font-medium mb-2">
                        <i class="fas fa-lock mr-2"></i>Enter your text to encrypt/decrypt
                    </label>
                    <div class="relative">
                        <textarea id="inputText" rows="5" class="w-full px-4 py-3 rounded-lg border border-gray-300 textarea-animate focus:outline-none focus:border-blue-500"></textarea>
                        <button id="clearInput" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-6">
                    <button id="encryptBtn" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center">
                        <i class="fas fa-lock mr-2"></i> Encrypt
                    </button>
                    <button id="decryptBtn" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center">
                        <i class="fas fa-unlock mr-2"></i> Decrypt
                    </button>
                </div>

                <div class="mb-4">
                    <label for="outputText" class="block text-gray-700 font-medium mb-2">
                        <i class="fas fa-key mr-2"></i>Result
                    </label>
                    <div class="relative">
                        <textarea id="outputText" rows="5" readonly class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 focus:outline-none"></textarea>
                        <button id="copyOutput" class="absolute top-3 right-3 bg-blue-100 hover:bg-blue-200 text-blue-600 py-1 px-3 rounded copy-btn">
                            <i class="fas fa-copy mr-1"></i> Copy
                        </button>
                    </div>
                </div>

                <div class="flex items-center justify-between text-sm text-gray-600">
                    <div class="flex items-center">
                        <i class="fas fa-info-circle mr-2"></i>
                        <span>AES-256 CBC algorithm</span>
                    </div>
                    <button id="toggleMode" class="text-blue-600 hover:text-blue-800 font-medium">
                        <i class="fas fa-exchange-alt mr-1"></i> Switch to Dark Mode
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-4 text-center text-white/80 text-sm">
        <p>&copy; 2024 SecureCrypt | Developed with <i class="fas fa-heart text-red-400"></i> by OSMS</p>
    </footer>

    <script>
        // Encryption/Decryption functions
        const encrypt = (text) => {
            try {
                const key = CryptoJS.enc.Utf8.parse('i85w/zdJrkU4o0GWj/0AIFJxOLuJDSmIl5f8TpN/16k=');
                const iv = CryptoJS.enc.Utf8.parse('=k61/NpT8f5lImSDJuLOxJFIA0/jWG0o4UkrJdz/w58i'.substring(0, 16));
                
                const encrypted = CryptoJS.AES.encrypt(
                    CryptoJS.enc.Utf8.parse(text),
                    key,
                    {
                        keySize: 256 / 8,
                        iv: iv,
                        mode: CryptoJS.mode.CBC,
                        padding: CryptoJS.pad.Pkcs7
                    }
                );
                
                return encrypted.toString();
            } catch (e) {
                console.error('Encryption error:', e);
                return 'Error: Encryption failed';
            }
        };

        const decrypt = (text) => {
            try {
                const key = CryptoJS.enc.Utf8.parse('i85w/zdJrkU4o0GWj/0AIFJxOLuJDSmIl5f8TpN/16k=');
                const iv = CryptoJS.enc.Utf8.parse('=k61/NpT8f5lImSDJuLOxJFIA0/jWG0o4UkrJdz/w58i'.substring(0, 16));
                
                const decrypted = CryptoJS.AES.decrypt(
                    text,
                    key,
                    {
                        keySize: 256 / 8,
                        iv: iv,
                        mode: CryptoJS.mode.CBC,
                        padding: CryptoJS.pad.Pkcs7
                    }
                );
                
                return decrypted.toString(CryptoJS.enc.Utf8);
            } catch (e) {
                console.error('Decryption error:', e);
                return 'Error: Decryption failed - Invalid input or key';
            }
        };

        // DOM elements
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const encryptBtn = document.getElementById('encryptBtn');
        const decryptBtn = document.getElementById('decryptBtn');
        const copyOutput = document.getElementById('copyOutput');
        const clearInput = document.getElementById('clearInput');
        const toggleMode = document.getElementById('toggleMode');
        const body = document.body;

        // Event listeners
        encryptBtn.addEventListener('click', () => {
            if (inputText.value.trim() === '') {
                showAlert('Please enter text to encrypt', 'error');
                return;
            }
            outputText.value = encrypt(inputText.value);
            showAlert('Text encrypted successfully!', 'success');
        });

        decryptBtn.addEventListener('click', () => {
            if (inputText.value.trim() === '') {
                showAlert('Please enter text to decrypt', 'error');
                return;
            }
            const result = decrypt(inputText.value);
            if (result.includes('Error')) {
                showAlert(result, 'error');
            } else {
                showAlert('Text decrypted successfully!', 'success');
            }
            outputText.value = result;
        });

        copyOutput.addEventListener('click', () => {
            if (outputText.value.trim() === '') {
                showAlert('Nothing to copy', 'warning');
                return;
            }
            outputText.select();
            document.execCommand('copy');
            showAlert('Copied to clipboard!', 'success');
            
            // Change icon temporarily
            const icon = copyOutput.querySelector('i');
            icon.classList.remove('fa-copy');
            icon.classList.add('fa-check');
            
            setTimeout(() => {
                icon.classList.remove('fa-check');
                icon.classList.add('fa-copy');
            }, 2000);
        });

        clearInput.addEventListener('click', () => {
            inputText.value = '';
            inputText.focus();
        });

        toggleMode.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            
            if (isDark) {
                body.classList.remove('gradient-bg');
                body.classList.add('bg-gray-900');
                toggleMode.innerHTML = '<i class="fas fa-exchange-alt mr-1"></i> Switch to Light Mode';
            } else {
                body.classList.add('gradient-bg');
                body.classList.remove('bg-gray-900');
                toggleMode.innerHTML = '<i class="fas fa-exchange-alt mr-1"></i> Switch to Dark Mode';
            }
        });

        // Helper function to show alerts
        function showAlert(message, type) {
            // Remove any existing alerts
            const existingAlert = document.querySelector('.custom-alert');
            if (existingAlert) {
                existingAlert.remove();
            }
            
            const alert = document.createElement('div');
            alert.className = `custom-alert fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg text-white font-medium flex items-center ${
                type === 'error' ? 'bg-red-500' : 
                type === 'success' ? 'bg-green-500' : 
                'bg-yellow-500'
            }`;
            
            alert.innerHTML = `
                <i class="fas ${
                    type === 'error' ? 'fa-exclamation-circle' : 
                    type === 'success' ? 'fa-check-circle' : 
                    'fa-exclamation-triangle'
                } mr-2"></i>
                ${message}
            `;
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.style.opacity = '0';
                alert.style.transition = 'opacity 0.5s ease';
                setTimeout(() => alert.remove(), 500);
            }, 3000);
        }

        // Load CryptoJS from CDN
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js';
        script.integrity = 'sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==';
        script.crossOrigin = 'anonymous';
        script.onload = () => console.log('CryptoJS loaded successfully');
        script.onerror = () => console.error('Failed to load CryptoJS');
        document.head.appendChild(script);
    </script>
</body>
</html>